{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "data": { "url": "https://vega.github.io/editor/data/seattle-weather.csv" },
  "padding": { "left": 20, "top": 5, "right": 30, "bottom": 5 },
  "width": "container",
  "resolve": { "scale": { "color": "independent" } },
  "background": "#ffffff",
  "height": 300,
  "layer": [
    {
      "mark": {
        "type": "bar",
        "cornerRadius": 1,
        "tooltip": true,
        "binSpacing": 1
      },
      "encoding": {
        "x": {
          "timeUnit": "month",
          "field": "date",
          "type": "ordinal",
          "axis": { "title": "Month of the year", "orient": "bottom" }
        },
        "y": {
          "aggregate": "count",
          "type": "quantitative",
          "axis": { "title": "Count", "orient": "left" }
        },
        "opacity": {
          "value": 1
        },
        "color": {
          "field": "weather",
          "type": "nominal",
          "scale": {
            "domain": ["sun", "fog", "drizzle", "rain", "snow"],
            "range": ["#1d6996", "#edad08", "#73af48", "#94346e", "#38a6a5"]
          },
          "legend": {
            "title": "Weather type",
            "orient": "right",
            "fillColor": "#ffffff"
          }
        }
      }
    }
  ]
}
